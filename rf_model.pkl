import pandas as pd
from sklearn.ensemble import RandomForestClassifier
from sklearn.preprocessing import StandardScaler
import joblib

# Example: Dummy training data
data = {
    "EMA_20": [18000, 18010, 18020, 18015, 18005],
    "RSI": [60, 65, 70, 55, 50],
    "ATR": [15, 18, 14, 16, 17],
    "Direction": [1, 1, 0, 0, 1]  # 1 = UP, 0 = DOWN
}
df = pd.DataFrame(data)

# Split features and label
X = df[["EMA_20", "RSI", "ATR"]]
y = df["Direction"]

# Scale the features
scaler = StandardScaler()
X_scaled = scaler.fit_transform(X)

# Train Random Forest model
model = RandomForestClassifier()
model.fit(X_scaled, y)

# Save the model and scaler
joblib.dump(model, 'rf_model.pkl')
joblib.dump(scaler, 'scaler.pkl')
